# Renga Bri4ka

Набор утилит и плагинов для Renga "Bri4ka"

![](icons/Bri4kaIcon_256x256.png)

План разработки см. в [отдельном файле](.\TODO.md).

# Установка и использование

Есть 2 варианта установки и последующего обновления (зависит от наличия прав пользователя на папку с Renga):

* Вариант 1 (при отсутствии прав): единожды Администратором производится запись в папку Renga конфигурационного файла `.rndesk`, а все исполняемые библиотеки располагаются в ином доступном для редактирования каталоге;
* Вариант 2 (при наличии всех прав): файлы плагина распаковываются в папку Renga, при обновлении плагина файлы заменяются новыми;

Ниже приведена последовательность действий для установки для обоих вариантов:

1. Загрузите последнюю скомпилированную версию из раздела [Releases](https://github.com/Lex-is-BIM/renga_bri4ka/releases/latest)
2. Зайти в папку с установленной Renga нужной версии (папка, в корне которой лежит приложение `Renga.exe`);
3. Создать при отсутствии папку `Plugins`;
4. Создать в ней папку `RengaBri4ka`;

5. (при Варианте 1) Скопировать в папку `RengaBri4ka`  файл `RengaBri4ka.rndesc` из распакованного архива. Открыть скопированный файл `RengaBri4ka.rndesc` и отредактировать XML-тэг `PluginFilename`, задав абсолютный файловый путь до `RengaBri4kaLoader.dll`, куда вы распаковали `RengaBri4ka` у себя на ПК
5. (при Варианте 2) Скопировать в папку `RengaBri4ka` все файлы из архива, либо распаковать архив в данную папку.

Если всё сделано корректно, то при запуске Renga на панели инструментов появится кнопка плагина, содержащего перечень функций на выпадающем списке;

При первом вызове любой из команд будет выполнена инициализация текущей версии Renga (процесс будет сопровождаться созданием нового проекта на фоне и сменой вкладок). Подробнее о причинах действия см. статью. 

О функциях плагина и особенностях их использования см. [отдельную справку](https://inj9.gitbook.io/renga-bri4ka-1/).
## Возможные обновления

Среда .NET Framework 4.8 -- https://dotnet.microsoft.com/en-us/download/dotnet-framework/thank-you/net48-offline-installer

# Dev

Внешние зависимости (файлы из Renga SDK, `Renga.NET.PluginUtility.dll`, `Renga.NET8.PluginUtility.dll`, `RengaCOMAPI.tlb`) размещаются по относительному пути в папке `external` в корне репозитория. Для корректности, они исключены на уровне `.gitignore`.

Проекты имеют TargetFramework = net48.

Иконки создаются в приложении IcoFX, лежат в \external и в репозиторий не включаются.
